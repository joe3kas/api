!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=12)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLocale=t.register=void 0;var n="second_minute_hour_day_week_month_year".split("_"),a="秒_分钟_小时_天_周_个月_年".split("_"),i=function(e,t){if(0===t)return["just now","right now"];var r=n[parseInt(t/2)];return e>1&&(r+="s"),["".concat(e," ").concat(r," ago"),"in ".concat(e," ").concat(r)]},o={en_US:i,zh_CN:function(e,t){if(0===t)return["刚刚","片刻后"];var r=a[parseInt(t/2)];return["".concat(e," ").concat(r,"前"),"".concat(e," ").concat(r,"后")]}};t.register=function(e,t){o[e]=t};t.getLocale=function(e){return o[e]||i}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nextInterval=t.diffSec=t.formatDiff=t.toDate=t.toInt=void 0;var n=[60,60,24,7,365/7/12,12],a=function(e){return parseInt(e)};t.toInt=a;var i=function(e){return e instanceof Date?e:!isNaN(e)||/^\d+$/.test(e)?new Date(a(e)):(e=(e||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(e))};t.toDate=i;t.formatDiff=function(e,t){for(var r=0,i=e<0?1:0,o=e=Math.abs(e);e>=n[r]&&r<n.length;r++)e/=n[r];return(e=a(e))>(0===(r*=2)?9:1)&&(r+=1),t(e,r,o)[i].replace("%s",e)};t.diffSec=function(e,t){return((t=t?i(t):new Date)-i(e))/1e3};t.nextInterval=function(e){for(var t=1,r=0,a=Math.abs(e);e>=n[r]&&r<n.length;r++)e/=n[r],t*=n[r];return a=(a%=t)?t-a:t,Math.ceil(a)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"format",{enumerable:!0,get:function(){return n.format}}),Object.defineProperty(t,"render",{enumerable:!0,get:function(){return a.render}}),Object.defineProperty(t,"cancel",{enumerable:!0,get:function(){return a.cancel}}),Object.defineProperty(t,"register",{enumerable:!0,get:function(){return i.register}}),t.version=void 0;var n=r(4),a=r(5),i=r(0);t.version="4.0.0-beta.2"},function(e,t,r){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.format=void 0;var n=r(1),a=r(0);t.format=function(e,t,r){var i=(0,n.diffSec)(e,r);return(0,n.formatDiff)(i,(0,a.getLocale)(t))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=t.cancel=void 0;var n=r(6),a=r(1),i=r(0),o={},c=function(e){clearTimeout(e),delete o[e]},s=function e(t,r,i,s){c((0,n.getTimerId)(t));var d=(0,a.diffSec)(r,s);t.innerHTML=(0,a.formatDiff)(d,i);var u=setTimeout((function(){e(t,r,i,s)}),1e3*(0,a.nextInterval)(d),2147483647);o[u]=0,(0,n.saveTimerId)(t,u)};t.cancel=function(e){if(e)c((0,n.getTimerId)(e));else for(var t in o)c(t)};t.render=function(e,t,r){var a;void 0===e.length&&(e=[e]);for(var o=0;o<e.length;o++){a=e[o];var c=(0,n.getDateAttribute)(a),d=(0,i.getLocale)(t);s(a,c,d,r)}return e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTimerId=t.saveTimerId=t.getDateAttribute=void 0;var n=function(e,t){return e.getAttribute?e.getAttribute(t):e.attr?e.attr(t):void 0};t.getDateAttribute=function(e){return n(e,"datetime")};t.saveTimerId=function(e,t){return e.setAttribute?e.setAttribute("timeago-tid",t):e.attr?e.attr("timeago-tid",t):void 0};t.getTimerId=function(e){return n(e,"timeago-tid")}},,,,,,function(e,t,r){"use strict";r.r(t);r(3);var n=class{constructor(e){this.nombre=e}};var a=class{constructor(){this.URI="/api/v2/galeria"}async getGalerias(){const e=await fetch(this.URI);return await e.json()}async postGaleria(e){const t=await fetch(this.URI,{method:"POST",body:e});await t.json()}async deleteGaleria(e){const t=await fetch(`${this.URI}/${e}`,{headers:{"Content-Type":"application/json"},method:"Delete"}),r=await t.json();console.log(r)}},i=r(2);const o=new a;var c=class{async renderGalerias(){const e=await o.getGalerias(),t=document.getElementById("galerias-cards");t.innerHTML="",e.forEach(e=>{const r=document.createElement("div");r.className="animated fadeInRight",r.innerHTML=`\n      <div class="card m-2">\n        <div class="row no-gutters">\n            <div class="col-md-4">\n                <img src="${e.image}" class="img-fluid" alt="">\n            </div>\n            <div class="col-md-8">\n                <div class="card-block px-2">\n                    <h4 class="card-title">${e.nombre}</h4>\n                    <a href="#" class="btn btn-danger delete" _id="${e._id}">X</a>\n                </div>\n            </div>\n        </div>\n        <div class="card-footer w-100 text-muted">\n          ${Object(i.format)(e.created_at)}\n        </div>\n      </div>\n      `,t.appendChild(r)})}async addANewGaleria(e){await o.postGaleria(e),this.renderGalerias(),this.clearGaleriaForm()}clearGaleriaForm(){document.getElementById("galeria-form").reset(),document.getElementById("nombre").focus()}renderMessage(e,t,r){const n=document.createElement("div");n.className="message "+t,n.appendChild(document.createTextNode(e));const a=document.querySelector(".col-md-4"),i=document.querySelector("#galeria-form");a.insertBefore(n,i),setTimeout(()=>{document.querySelector(".message").remove()},r)}async deleteGaleria(e){await o.deleteGaleria(e),this.renderGalerias()}};document.addEventListener("DOMContentLoaded",()=>{(new c).renderGalerias()}),document.getElementById("galeria-form").addEventListener("submit",(function(e){const t=document.getElementById("nombre").value,r=document.getElementById("image").files,a=new FormData;a.append("image",r[0]),a.append("nombre",t);const i=new c;new n(t);""===t?i.renderMessage("Please fill all the fields","error",3e3):(i.addANewGaleria(a),i.renderMessage("New galeria Added Successfully","success",2e3)),e.preventDefault()})),document.getElementById("galerias-cards").addEventListener("click",e=>{const t=new c;e.target.classList.contains("delete")&&(t.deleteGaleria(e.target.getAttribute("_id")),t.renderMessage("Galeria Deleted Successfully","success",3e3)),e.preventDefault()})}]);
//# sourceMappingURL=galeria.js.map